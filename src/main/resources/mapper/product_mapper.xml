<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="productMapper">

	<!-- 상품 등록 -->
	<insert id="addprod" parameterType="prodvo">
		insert into product (prodid,
		prodnm, prodcnt, cateid, prodprice, costprice, discount, expirydate,
		regdate, imgpath)
		select PRODUCT_SEQ.NEXTVAL, #{prodnm}, #{prodcnt},
		#{cateid}, #{prodprice}, #{costprice}, #{discount},
		#{expirydate},
		sysdate, #{imgpath}
		FROM DUAL
	</insert>

	<!-- 상품 자세히 보기 -->
	<select id="detailprod" resultType="prodvo">
		select * from product
		where
		prodid = #{prodid}
	</select>

	<!-- 상품 전체 리스트 보기 -->
	<select id="alllistprod" resultType="prodvo">
		select p.prodid, p.prodnm, p.prodcnt, p.cateid, p.prodprice, p.costprice, p.discount,
		p.expirydate, p.imgpath
		from product p , category c
		where p.cateid = c.cateid
	</select>


	<!-- 카테고리별 상품 리스트 보기 -->
	<select id="listprod" resultType="prodvo">
		select p.prodid, p.prodnm,
		p.prodcnt,
		p.cateid, p.prodprice, p.costprice, p.discount,
		p.expirydate, p.imgpath, p.delflag, c.catenm
		from product p, category c
		where p.cateid = c.cateid and p.cateid = #{cateid}
	</select>
	
	<!-- 주문하기 -->
	
</mapper>

